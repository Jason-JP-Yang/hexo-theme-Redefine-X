(function(){function g(a){return`[giscus] An error occurred. Error message: "${a}".`}function l(a,h=!1){return(a=document.querySelector((h?`meta[property='og:${a}'],`:"")+`meta[name='${a}']`))?a.content:""}function m(){delete c.session;const a=`${k}${q}/widget?${new URLSearchParams(c)}`;e.src=a}const n=document.currentScript,k=n.dataset.giscusOrigin||"https://giscus.app";var b=new URL(location.href),d=b.searchParams.get("giscus")||"";const p=localStorage.getItem("giscus-session");b.searchParams.delete("giscus");
b.hash="";var f=b.toString();if(d)localStorage.setItem("giscus-session",JSON.stringify(d)),history.replaceState(void 0,document.title,f);else if(p)try{d=JSON.parse(p)}catch(a){localStorage.removeItem("giscus-session"),console.warn(`${g(a?.message)} Session has been cleared.`)}b=n.dataset;const c={origin:f};c.session=d;c.theme=b.theme;c.reactionsEnabled=b.reactionsEnabled||"1";c.emitMetadata=b.emitMetadata||"0";c.inputPosition=b.inputPosition||"bottom";c.repo=b.repo;c.repoId=b.repoId;c.category=b.category||
"";c.categoryId=b.categoryId;c.strict=b.strict||"0";c.description=l("description",!0);c.backLink=l("giscus:backlink")||f;switch(b.mapping){case "url":c.term=f;break;case "title":c.term=document.title;break;case "og:title":c.term=l("title",!0);break;case "specific":c.term=b.term;break;case "number":c.number=b.term;break;default:c.term=2>location.pathname.length?"index":decodeURIComponent(location.pathname.substring(1).replace(/\.\w+$/,""))}const r=(d=document.querySelector(".giscus"))&&d.id;r&&(c.origin=
`${f}#${r}`);const q=b.lang?`/${b.lang}`:"";f=`${k}${q}/widget?${new URLSearchParams(c)}`;b="lazy"===b.loading?"lazy":void 0;const e=document.createElement("iframe");Object.entries({class:"giscus-frame giscus-frame--loading",title:"Comments",scrolling:"no",allow:"clipboard-write",src:f,loading:b}).forEach(([a,h])=>h&&e.setAttribute(a,h));e.style.opacity="0";e.addEventListener("load",()=>{e.style.removeProperty("opacity");e.classList.remove("giscus-frame--loading")});document.getElementById("giscus-css")||
(b=document.createElement("style"),b.id="giscus-css",b.textContent=".giscus,.giscus-frame{width:100%;min-height:150px}.giscus-frame{border:none;color-scheme:light dark}.giscus-frame--loading{opacity:0}",document.head.prepend(b));if(d){for(;d.firstChild;)d.firstChild.remove();d.appendChild(e)}else d=document.createElement("div"),d.setAttribute("class","giscus"),d.appendChild(e),n.insertAdjacentElement("afterend",d);window.addEventListener("message",a=>{a.origin===k&&({data:a}=a,"object"===typeof a&&
a.giscus&&(a.giscus.resizeHeight&&(e.style.height=`${a.giscus.resizeHeight}px`),a.giscus.signOut?(localStorage.removeItem("giscus-session"),console.log("[giscus] User has logged out. Session has been cleared."),m()):a.giscus.error&&(a=a.giscus.error,a.includes("Bad credentials")||a.includes("Invalid state value")||a.includes("State has expired")?null!==localStorage.getItem("giscus-session")?(localStorage.removeItem("giscus-session"),console.warn(`${g(a)} Session has been cleared.`),m()):p||console.error(`${g(a)} No session is stored initially. ${"Please consider reporting this error at https://github.com/giscus/giscus/issues/new."}`):
a.includes("Discussion not found")?console.warn(`[giscus] ${a}. A new discussion will be created if a comment/reaction is submitted.`):a.includes("API rate limit exceeded")?console.warn(g(a)):console.error(`${g(a)} ${"Please consider reporting this error at https://github.com/giscus/giscus/issues/new."}`))))});window.__giscus={signOut:m,setConfig(a){e.contentWindow?.postMessage({giscus:{setConfig:a}},k)}}})();
