{"version":3,"file":"lazyload.js","names":["loadedPreloaders","WeakSet","preloadedImages","Map","inflightLoads","intersectionObserver","preloadEnabled","preloadQueue","isPreloading","isUserScrolling","userScrollTimeout","loadImage","src","alt","Promise","resolve","reject","img","Image","isSameOrigin","url","URL","window","location","href","origin","crossOrigin","onload","onerror","Error","async","requestImageBySrc","has","get","delete","p","then","catch","err","set","transformPreloaderToImage","preloader","Array","from","classList","filter","c","startsWith","forEach","add","width","dataset","height","parseInt","originalSrc","processPreloader","replacePreloader","setTimeout","parentNode","replaceChild","error","console","showError","skeleton","querySelector","innerHTML","preloadImageToCache","ensureImageCached","warn","isNetworkIdle","performance","getEntriesByType","resources","now","entry","loadTime","responseEnd","fetchStart","length","buildPreloadQueue","unloaded","document","querySelectorAll","above","below","position","distance","getViewportPosition","element","rect","getBoundingClientRect","viewportHeight","innerHeight","top","Math","abs","bottom","push","sort","a","b","queue","slice","map","item","processPreloadQueue","shift","initLazyLoad","config","preload","preloaders","observer","getObserver","IntersectionObserver","entries","isIntersecting","unobserve","target","rootMargin","threshold","observed","observe","startPreload","addEventListener","clearTimeout","passive","forceLoadAllPreloaders"],"sources":["0"],"mappings":"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","ignoreList":[]}