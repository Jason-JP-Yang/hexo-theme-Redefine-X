{"version":3,"file":"masonry-reactions.js","names":["GISCUS_SESSION_KEY","GISCUS_ORIGIN","GITHUB_GRAPHQL_API","CACHE_KEY_PREFIX","CACHE_TTL","MASONRY_SCROLL_KEY","PENDING_HEART_KEY","currentPagePath","imageReactions","userToken","isAuthenticated","isInitialized","swupHooked","getPageConfig","e","document","getElementById","JSON","parse","textContent","getGiscusApiBase","giscusProxy","async","getGiscusToken","localStorage","getItem","t","n","fetch","method","headers","body","encodeURIComponent","ok","json","token","getGiscusLoginUrl","location","href","fetchFromGiscusAPI","s","a","o","URLSearchParams","repo","term","category","number","strict","first","String","set","status","console","warn","fetchAllComments","discussion","comments","pageInfo","hasNextPage","endCursor","push","checkViewerReactions","length","slice","map","join","Authorization","stringify","query","errors","data","reactionGroups","find","content","viewerHasReacted","toggleHeartReaction","variables","subjectId","parseImageId","match","trim","getCacheKey","getCache","sessionStorage","Date","now","timestamp","removeItem","setCache","setItem","clearCache","createHeartButton","createElement","className","dataset","imageId","setAttribute","innerHTML","addEventListener","handleHeartClick","initializeHeartButtons","querySelectorAll","Set","forEach","querySelector","getAttribute","findImageIdFromSrc","classList","contains","add","appendChild","decodeURIComponent","split","replace","includes","endsWith","updateHeartButton","CSS","escape","reacted","toggle","applyReactions","bodyHTML","reactions","HEART","count","commentId","id","heartCount","applyCachedReactions","Object","entries","preventDefault","stopPropagation","currentTarget","window","scrollY","i","Math","max","r","c","remove","discussionTerm","init","imageIds","parseInt","isNaN","requestAnimationFrame","scrollTo","top","behavior","fetchAndApplyLive","handlePendingHeart","setTimeout","click","values","filter","Boolean","cleanup","onPageView","tryRegisterSwup","eval","hooks","on","key","newValue","then","origin","giscus","signOut","URL","searchParams","get","readyState","setInterval","clearInterval"],"sources":["0"],"mappings":"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","ignoreList":[]}