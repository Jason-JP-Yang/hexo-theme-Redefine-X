{"version":3,"file":"masonry-reactions.js","names":["GISCUS_SESSION_KEY","GISCUS_ORIGIN","GITHUB_GRAPHQL_API","CACHE_KEY_PREFIX","CACHE_TTL","MASONRY_SCROLL_KEY","PENDING_HEART_KEY","currentPagePath","imageReactions","userToken","isAuthenticated","isInitialized","swupHooked","getPageConfig","e","document","getElementById","JSON","parse","textContent","async","getGiscusToken","localStorage","getItem","t","fetch","method","headers","body","encodeURIComponent","ok","json","token","getGiscusLoginUrl","location","href","fetchFromGiscusAPI","n","a","s","o","URLSearchParams","repo","term","category","number","strict","first","String","set","status","console","warn","fetchAllComments","discussion","comments","pageInfo","hasNextPage","endCursor","push","checkViewerReactions","length","slice","map","join","Authorization","stringify","query","errors","data","reactionGroups","find","content","viewerHasReacted","toggleHeartReaction","variables","subjectId","parseImageId","match","trim","getCacheKey","getCache","sessionStorage","Date","now","timestamp","removeItem","setCache","setItem","clearCache","createHeartButton","createElement","className","dataset","imageId","setAttribute","innerHTML","addEventListener","handleHeartClick","initializeHeartButtons","querySelectorAll","Set","forEach","querySelector","getAttribute","findImageIdFromSrc","classList","contains","add","appendChild","decodeURIComponent","split","replace","includes","endsWith","updateHeartButton","CSS","escape","reacted","toggle","applyReactions","bodyHTML","reactions","HEART","count","commentId","id","heartCount","applyCachedReactions","Object","entries","preventDefault","stopPropagation","currentTarget","window","scrollY","i","Math","max","r","c","remove","discussionTerm","init","imageIds","parseInt","isNaN","requestAnimationFrame","scrollTo","top","behavior","fetchAndApplyLive","handlePendingHeart","setTimeout","click","values","filter","Boolean","cleanup","onPageView","tryRegisterSwup","eval","hooks","on","key","newValue","then","origin","giscus","signOut","URL","searchParams","get","readyState","setInterval","clearInterval"],"sources":["0"],"mappings":"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","ignoreList":[]}