export function initMasonry(){var e=document.querySelector(".loading-placeholder"),t=document.querySelector("#masonry-container");if(e&&t){e.style.display="block",t.style.display="none";for(var o=document.querySelectorAll("#masonry-container .masonry-item img"),n=document.querySelectorAll("#masonry-container .masonry-item .img-preloader"),a=o.length+n.length,r=0,i=0;i<o.length;i++){var d=o[i];d.complete?onItemReady():(d.addEventListener("load",onItemReady),d.addEventListener("error",onItemReady))}n.length>0&&import("../layouts/lazyload.js").then((e=>{n.forEach((t=>{if("true"===t.dataset.loaded||"IMG"===t.tagName)onItemReady();else{new MutationObserver(((e,t)=>{e.forEach((e=>{e.addedNodes.forEach((e=>{"IMG"===e.tagName&&(e.complete?onItemReady():(e.addEventListener("load",onItemReady),e.addEventListener("error",onItemReady)),t.disconnect())}))}))})).observe(t.parentNode,{childList:!0}),e.forceLoadAllPreloaders&&e.forceLoadAllPreloaders()}}))})).catch((()=>{n.forEach((()=>onItemReady()))})),(0===a||r===a)&&initializeMasonryLayout()}function onItemReady(){++r===a&&initializeMasonryLayout()}function initializeMasonryLayout(){e.style.opacity=0,setTimeout((()=>{var o;e.style.display="none",t.style.display="block",o=window.innerWidth>=768?255:150,new MiniMasonry({baseWidth:o,container:t,gutterX:10,gutterY:10,surroundingGutter:!1}).layout(),t.style.opacity=1}),100)}}if(data.masonry){try{swup.hooks.on("page:view",initMasonry)}catch(e){}document.addEventListener("DOMContentLoaded",initMasonry)}
//# sourceMappingURL=masonry.js.map