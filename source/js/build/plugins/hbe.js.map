{"version":3,"file":"hbe.js","names":["main","initTOC","initTocToggle","initHBE","cryptoObj","window","crypto","msCrypto","storage","localStorage","storageName","location","pathname","mainElement","document","getElementById","wrongPassMessage","dataset","wrongHashMessage","dataElement","getElementsByTagName","encryptedData","innerText","HmacDigist","keySaltHex","ivHex","kdfIterationsRaw","Number","parseInt","keySalt","hexToArray","encryptedIv","buffer","kdfIterations","isFinite","s","Uint8Array","match","map","h","arrayBufferToHex","arrayBuffer","byteLength","TypeError","value","view","result","i","length","toString","async","convertHTMLToElement","content","out","createElement","innerHTML","querySelectorAll","forEach","elem","replaceWith","getExecutableScript","oldElem","att","decrypt","decryptKey","iv","hmacKey","typedArray","subtle","name","then","decoded","TextDecoder","decode","startsWith","hideButton","textContent","type","classList","add","addEventListener","removeItem","reload","style","display","appendChild","import","module","forceLoadAllPreloaders","catch","preloader","loaded","src","img","alt","parentNode","replaceChild","refresh","rebuildTOC","container","headers","tocContainer","querySelector","postPageContainer","className","tocHTML","pageTitleElem","pageTitle","title","header","index","id","trim","replace","level","tagName","substring","pageAsideHandleOfTOC","event","Event","dispatchEvent","verifyContent","key","encoded","TextEncoder","encode","signature","verify","hash","console","log","alert","e","hbeLoader","oldStorageData","JSON","parse","getItem","sIv","sDk","dk","sHmk","hmk","importKey","dkCK","hmkCK","isComposing","password","keyMaterial","getKeyMaterial","encoder","getHmacKey","deriveKey","salt","iterations","getDecryptKey","getLegacyIv","exportKey","newStorageData","setItem","stringify"],"sources":["0"],"mappings":"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","ignoreList":[]}