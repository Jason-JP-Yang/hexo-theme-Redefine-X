{"version":3,"file":"hbe.js","names":["main","initTOC","initTocToggle","initHBE","cryptoObj","window","crypto","msCrypto","storage","localStorage","storageName","location","pathname","legacyKeySalt","textToArray","legacyIvSalt","mainElement","document","getElementById","wrongPassMessage","dataset","wrongHashMessage","dataElement","getElementsByTagName","encryptedData","innerText","HmacDigist","keySaltHex","ivHex","kdfIterationsRaw","Number","parseInt","keySalt","hexToArray","encryptedIv","buffer","kdfIterations","isFinite","s","Uint8Array","match","map","h","i","length","n","ba","Array","j","c","codePointAt","arrayBufferToHex","arrayBuffer","byteLength","TypeError","value","view","result","toString","async","convertHTMLToElement","content","out","createElement","innerHTML","querySelectorAll","forEach","elem","replaceWith","getExecutableScript","oldElem","att","decrypt","decryptKey","iv","hmacKey","typedArray","subtle","name","then","decoded","TextDecoder","decode","startsWith","hideButton","textContent","type","classList","add","addEventListener","removeItem","reload","style","display","appendChild","import","module","forceLoadAllPreloaders","catch","preloader","loaded","src","img","alt","parentNode","replaceChild","refresh","rebuildTOC","container","headers","tocContainer","querySelector","postPageContainer","className","tocHTML","pageTitleElem","pageTitle","title","header","index","id","trim","replace","level","tagName","substring","pageAsideHandleOfTOC","event","Event","dispatchEvent","verifyContent","key","encoded","TextEncoder","encode","signature","verify","hash","console","log","alert","e","hbeLoader","oldStorageData","JSON","parse","getItem","sIv","sDk","dk","sHmk","hmk","importKey","dkCK","hmkCK","isComposing","password","keyMaterial","getKeyMaterial","encoder","getHmacKey","deriveKey","salt","iterations","getDecryptKey","getLegacyIv","deriveBits","exportKey","newStorageData","setItem","stringify"],"sources":["0"],"mappings":"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","ignoreList":[]}