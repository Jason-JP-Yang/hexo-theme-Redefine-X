!function(){const e="giscus-session",t=document.currentScript,s=t.dataset.giscusOrigin||"https://giscus.app";function i(e){return`[giscus] An error occurred. Error message: "${e}".`}function o(e,t=!1){const s=t?`meta[property='og:${e}'],`:"",r=document.querySelector(s+`meta[name='${e}']`);return r?r.content:""}const r=new URL(location.href);let n=r.searchParams.get("giscus")||"";const c=localStorage.getItem(e);r.searchParams.delete("giscus"),r.hash="";const a=r.toString();if(n)localStorage.setItem(e,JSON.stringify(n)),history.replaceState(void 0,document.title,a);else if(c)try{n=JSON.parse(c)}catch(t){localStorage.removeItem(e),console.warn(`${i(t?.message)} Session has been cleared.`)}const l=t.dataset,d={};switch(d.origin=a,d.session=n,d.theme=l.theme,d.reactionsEnabled=l.reactionsEnabled||"1",d.emitMetadata=l.emitMetadata||"0",d.inputPosition=l.inputPosition||"bottom",d.repo=l.repo,d.repoId=l.repoId,d.category=l.category||"",d.categoryId=l.categoryId,d.strict=l.strict||"0",d.description=o("description",!0),d.backLink=o("giscus:backlink")||a,l.mapping){case"url":d.term=a;break;case"title":d.term=document.title;break;case"og:title":d.term=o("title",!0);break;case"specific":d.term=l.term;break;case"number":d.number=l.term;break;default:d.term=location.pathname.length<2?"index":decodeURIComponent(location.pathname.substring(1).replace(/\.\w+$/,""))}const g=document.querySelector(".giscus"),u=g&&g.id;u&&(d.origin=`${a}#${u}`);const m=l.lang?`/${l.lang}`:"",p=`${s}${m}/widget?${new URLSearchParams(d)}`,h="lazy"===l.loading?"lazy":void 0,f=document.createElement("iframe"),b={class:"giscus-frame giscus-frame--loading",title:"Comments",scrolling:"no",allow:"clipboard-write",src:p,loading:h};if(Object.entries(b).forEach((([e,t])=>t&&f.setAttribute(e,t))),f.style.opacity="0",f.addEventListener("load",(()=>{f.style.removeProperty("opacity"),f.classList.remove("giscus-frame--loading")})),!document.getElementById("giscus-css")){const e=document.createElement("style");e.id="giscus-css",e.textContent=".giscus,.giscus-frame{width:100%;min-height:150px}.giscus-frame{border:none;color-scheme:light dark}.giscus-frame--loading{opacity:0}",document.head.prepend(e)}if(g){for(;g.firstChild;)g.firstChild.remove();g.appendChild(f)}else{const e=document.createElement("div");e.setAttribute("class","giscus"),e.appendChild(f),t.insertAdjacentElement("afterend",e)}const y="Please consider reporting this error at https://github.com/giscus/giscus/issues/new.";function w(){delete d.session;const e=`${s}${m}/widget?${new URLSearchParams(d)}`;f.src=e}window.addEventListener("message",(t=>{if(t.origin!==s)return;const{data:r}=t;if("object"!=typeof r||!r.giscus)return;if(r.giscus.resizeHeight&&(f.style.height=`${r.giscus.resizeHeight}px`),r.giscus.signOut)return localStorage.removeItem(e),console.log("[giscus] User has logged out. Session has been cleared."),void w();if(!r.giscus.error)return;const n=r.giscus.error;n.includes("Bad credentials")||n.includes("Invalid state value")||n.includes("State has expired")?null!==localStorage.getItem(e)?(localStorage.removeItem(e),console.warn(`${i(n)} Session has been cleared.`),w()):c||console.error(`${i(n)} No session is stored initially. ${y}`):n.includes("Discussion not found")?console.warn(`[giscus] ${n}. A new discussion will be created if a comment/reaction is submitted.`):n.includes("API rate limit exceeded")?console.warn(i(n)):console.error(`${i(n)} ${y}`)})),window.__giscus={signOut:w,setConfig(e){f.contentWindow?.postMessage({giscus:{setConfig:e}},s)}}}();
//# sourceMappingURL=giscus-client.js.map